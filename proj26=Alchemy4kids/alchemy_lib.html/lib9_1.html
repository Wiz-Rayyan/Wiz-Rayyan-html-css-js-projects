<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcane Alchemy Library</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Old+Standard+TT:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>
    <style>
        :root {
            --parchment: #f5e8c9;
            --gold: #d4af37;
            --deep-blue: #0a0a12;
            --ink: #1a1a1a;
            --crimson: #8a1318;
            --emerald: #2d6a4f;
            --amethyst: #5a189a;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background-color: var(--deep-blue);
            color: var(--parchment);
            font-family: 'Old Standard TT', serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(212, 175, 55, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 70%, rgba(138, 19, 24, 0.05) 0%, transparent 20%),
                url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='50' cy='50' r='1' fill='%23d4af37' fill-opacity='0.1'/%3E%3C/svg%3E");
        }
        
        /* Header and Navigation */
        header {
            background: linear-gradient(to right, #0a0a12, #1a1a2e, #0a0a12);
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--gold);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        h1 {
            font-family: 'Cinzel Decorative', serif;
            color: var(--gold);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            margin: 0;
            font-size: 2.5rem;
            letter-spacing: 2px;
        }
        
        .nav-toggle {
            display: none;
            background: none;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 0.5rem;
            cursor: pointer;
            font-size: 1.5rem;
        }
        
        nav {
            display: flex;
            gap: 1.5rem;
        }
        
        nav a {
            color: var(--parchment);
            text-decoration: none;
            font-family: 'Cinzel Decorative', serif;
            font-size: 1.1rem;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: var(--transition);
            position: relative;
        }
        
        nav a:hover {
            color: var(--gold);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 1px;
            background: var(--gold);
            transition: var(--transition);
            transform: translateX(-50%);
        }
        
        nav a:hover::after {
            width: 100%;
        }
        
        .search-bar {
            display: flex;
            margin: 1rem auto;
            max-width: 500px;
            width: 100%;
        }
        
        .search-bar input {
            flex: 1;
            padding: 0.75rem 1rem;
            background: rgba(26, 26, 46, 0.8);
            border: 1px solid var(--gold);
            border-right: none;
            color: var(--parchment);
            font-family: 'Old Standard TT', serif;
            border-radius: 4px 0 0 4px;
        }
        
        .search-bar button {
            padding: 0.75rem 1rem;
            background: var(--gold);
            color: var(--deep-blue);
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .search-bar button:hover {
            background: #c19b2e;
        }
        
        /* Hero Section */
        .hero {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, transparent 30%, var(--deep-blue) 70%);
            z-index: -1;
        }
        
        .hero-content {
            max-width: 800px;
            z-index: 1;
        }
        
        .hero h2 {
            font-family: 'Cinzel Decorative', serif;
            font-size: 3.5rem;
            color: var(--gold);
            margin-bottom: 1.5rem;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.7);
        }
        
        .hero p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: 1px solid var(--gold);
            background: rgba(212, 175, 55, 0.1);
            color: var(--gold);
            font-family: 'Cinzel Decorative', serif;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 4px;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            background: rgba(212, 175, 55, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn-primary {
            background: var(--gold);
            color: var(--deep-blue);
        }
        
        .btn-primary:hover {
            background: #c19b2e;
        }
        
        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
        }
        
        .floating-element {
            position: absolute;
            opacity: 0.1;
            color: var(--gold);
            font-size: 2rem;
        }
        
        /* Categories Section */
        .categories {
            padding: 4rem 2rem;
            background: rgba(10, 10, 18, 0.7);
        }
        
        .section-title {
            text-align: center;
            font-family: 'Cinzel Decorative', serif;
            color: var(--gold);
            font-size: 2.5rem;
            margin-bottom: 3rem;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 2px;
            background: var(--gold);
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .category-card {
            background: linear-gradient(145deg, #0f0f1f, #1a1a2e);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.2);
        }
        
        .category-icon {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 1rem;
        }
        
        .category-card h3 {
            font-family: 'Cinzel Decorative', serif;
            margin-bottom: 1rem;
            color: var(--parchment);
        }
        
        .category-card p {
            color: var(--parchment);
            opacity: 0.8;
            font-size: 0.9rem;
        }
        
        /* Featured Books */
        .featured-books {
            padding: 4rem 2rem;
            background: rgba(26, 26, 46, 0.5);
        }
        
        .books-filter {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--parchment);
            cursor: pointer;
            transition: var(--transition);
            border-radius: 30px;
        }
        
        .filter-btn.active, .filter-btn:hover {
            background: var(--gold);
            color: var(--deep-blue);
        }
        
        .book-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .book-cover {
            position: relative;
            height: 350px;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
            transition: var(--transition);
            cursor: pointer;
            overflow: hidden;
            perspective: 1000px;
            border: 2px solid var(--gold);
        }
        
        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .book-cover:hover {
            transform: translateY(-10px) rotateZ(2deg);
            box-shadow: 0 15px 30px rgba(212, 175, 55, 0.6);
        }
        
        .book-cover:hover img {
            transform: scale(1.05);
        }
        
        .book-cover::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(10, 10, 18, 0.1), rgba(10, 10, 18, 0.8));
            z-index: 1;
        }
        
        .cover-title {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            text-align: center;
            font-family: 'Cinzel Decorative', serif;
            font-size: 1.5rem;
            color: var(--gold);
            text-shadow: 0 0 5px var(--deep-blue);
            z-index: 2;
            padding: 0 1rem;
        }
        
        .book-meta {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 2;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .book-tag {
            background: rgba(212, 175, 55, 0.8);
            color: var(--deep-blue);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        /* Book Viewer */
        .book-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 18, 0.98);
            display: none;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }
        
        .viewer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: rgba(26, 26, 46, 0.9);
            border-bottom: 1px solid var(--gold);
            z-index: 10;
        }
        
        .viewer-title {
            font-family: 'Cinzel Decorative', serif;
            color: var(--gold);
            margin: 0;
        }
        
        .viewer-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .viewer-btn {
            background: none;
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 0.5rem;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 4px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .viewer-btn:hover {
            background: rgba(212, 175, 55, 0.2);
        }
        
        .book-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            perspective: 2000px;
        }
        
        /* Physical Book Style */
        .physical-book {
            width: 800px;
            height: 600px;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateY(0deg);
            transition: transform 1s;
        }
        
        .book-cover-left, .book-cover-right {
            position: absolute;
            width: 50%;
            height: 100%;
            background-color: #2a1e10;
            border: 1px solid var(--gold);
            box-sizing: border-box;
            backface-visibility: hidden;
            transform-origin: left center;
        }
        
        .book-cover-left {
            left: 0;
            background-image: url('https://i.pinimg.com/736x/44/e1/e9/44e1e9952b45eec036b020fcc5101f55.jpg');
            background-size: cover;
            background-position: center;
            transform: rotateY(0deg);
            z-index: 2;
        }
        
        .book-cover-right {
            right: 0;
            background-image: url('https://i.pinimg.com/736x/d1/e9/91/d1e991cd2be70a2e049c7390400c9d6f.jpg');
            background-size: cover;
            background-position: center;
            transform: rotateY(180deg);
            z-index: 1;
        }
        
        .book-page {
            position: absolute;
            width: 50%;
            height: 100%;
            background-color: var(--parchment);
            left: 50%;
            transform-origin: left center;
            box-sizing: border-box;
            padding: 2rem;
            overflow: auto;
            display: none;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
        }
        
        .book-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none" stroke="%231a1a1a" stroke-width="0.2" opacity="0.1"/></svg>');
            pointer-events: none;
        }
        
        .book-page.active {
            display: block;
        }
        
        .book-page h2 {
            color: var(--ink);
            border-bottom: 1px solid var(--ink);
            padding-bottom: 0.5rem;
            margin-top: 0;
            font-family: 'Cinzel Decorative', serif;
        }
        
        .book-page p {
            color: var(--ink);
            line-height: 1.6;
        }
        
        /* Flashcard Style */
        .flashcard-container {
            width: 600px;
            height: 400px;
            position: relative;
        }
        
        .flashcard {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--parchment);
            border: 2px solid var(--gold);
            border-radius: 5px;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.5s ease;
            z-index: 1;
        }
        
        .flashcard.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 2;
        }
        
        .flashcard h2 {
            color: var(--gold);
            text-align: center;
            margin-top: 0;
            font-family: 'Cinzel Decorative', serif;
        }
        
        .flashcard-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            color: var(--ink);
        }
        
        .flashcard img {
            max-width: 100%;
            max-height: 200px;
            margin-bottom: 1rem;
            border: 1px solid var(--gold);
        }
        
        /* Navigation Controls */
        .nav-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 1rem;
            z-index: 10;
            background: rgba(26, 26, 46, 0.8);
        }
        
        .nav-btn {
            background: rgba(26, 26, 46, 0.8);
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 0.5rem 1.5rem;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 4px;
        }
        
        .nav-btn:hover {
            background: rgba(212, 175, 55, 0.2);
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .page-indicator {
            color: var(--gold);
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
        }
        
        /* Features Section */
        .features {
            padding: 4rem 2rem;
            background: rgba(10, 10, 18, 0.7);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .feature-card {
            background: linear-gradient(145deg, #0f0f1f, #1a1a2e);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.2);
        }
        
        .feature-icon {
            font-size: 3rem;
            color: var(--gold);
            margin-bottom: 1.5rem;
        }
        
        .feature-card h3 {
            font-family: 'Cinzel Decorative', serif;
            margin-bottom: 1rem;
            color: var(--parchment);
        }
        
        .feature-card p {
            color: var(--parchment);
            opacity: 0.8;
        }
        
        /* Footer */
        footer {
            background: linear-gradient(to right, #0a0a12, #1a1a2e, #0a0a12);
            padding: 3rem 2rem;
            border-top: 1px solid var(--gold);
        }
        
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .footer-section h3 {
            font-family: 'Cinzel Decorative', serif;
            color: var(--gold);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .footer-section p {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.5rem;
        }
        
        .footer-links a {
            color: var(--parchment);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--gold);
            padding-left: 5px;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border: 1px solid var(--gold);
            color: var(--gold);
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            background: var(--gold);
            color: var(--deep-blue);
        }
        
        .newsletter-form {
            display: flex;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .newsletter-form input {
            flex: 1;
            padding: 0.75rem;
            background: rgba(26, 26, 46, 0.8);
            border: 1px solid var(--gold);
            border-right: none;
            color: var(--parchment);
            border-radius: 4px 0 0 4px;
            min-width: 200px;
        }
        
        .newsletter-form button {
            padding: 0 1rem;
            background: var(--gold);
            color: var(--deep-blue);
            border: none;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .newsletter-form button:hover {
            background: #c19b2e;
        }
        
        .copyright {
            text-align: center;
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
            color: var(--parchment);
            opacity: 0.7;
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: var(--gold);
            color: var(--deep-blue);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 999;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .back-to-top:hover {
            transform: translateY(-5px);
        }
        
        /* Loading Animation */
        .loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--deep-blue);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .loader.visible {
            display: flex;
        }
        
        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            border-top-color: var(--gold);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loader-text {
            margin-top: 1rem;
            color: var(--gold);
            font-family: 'Cinzel Decorative', serif;
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--gold);
            color: var(--deep-blue);
            padding: 1rem 2rem;
            border-radius: 4px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        
        .toast.visible {
            opacity: 1;
            visibility: visible;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 18, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.visible {
            display: flex;
        }
        
        .modal-content {
            background: var(--deep-blue);
            border: 2px solid var(--gold);
            border-radius: 8px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--gold);
            padding-bottom: 1rem;
        }
        
        .modal-title {
            font-family: 'Cinzel Decorative', serif;
            color: var(--gold);
            margin: 0;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--parchment);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .modal-body {
            color: var(--parchment);
            line-height: 1.6;
        }
        
        /* Responsive Design */
        @media (max-width: 900px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h2 {
                font-size: 2.5rem;
            }
            
            .physical-book {
                width: 95vw;
                height: 70vh;
            }
            
            .book-page {
                padding: 1rem;
            }
            
            .flashcard-container {
                width: 90vw;
                height: 60vh;
            }
        }
        
        @media (max-width: 768px) {
            .nav-toggle {
                display: block;
            }
            
            nav {
                display: none;
                width: 100%;
                flex-direction: column;
                margin-top: 1rem;
            }
            
            nav.active {
                display: flex;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
            }
            
            .newsletter-form input {
                min-width: 150px;
            }
        }
        
        @media (max-width: 600px) {
            .book-gallery {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .cover-title {
                font-size: 1.2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="loader" id="loader">
        <div class="loader-spinner"></div>
        <p class="loader-text">Unlocking Ancient Knowledge...</p>
    </div>
    
    <header>
        <div class="header-content">
            <h1>Arcane Alchemy Library</h1>
            
            <button class="nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav id="mainNav">
                <a href="#home">Home</a>
                <a href="#categories">Collections</a>
                <a href="#books">Tomes</a>
                <a href="#features">Features</a>
                <a href="#about">About</a>
            </nav>
            
            <div class="search-bar">
                <input type="text" placeholder="Search for ancient knowledge...">
                <button><i class="fas fa-search"></i></button>
            </div>
        </div>
    </header>
    
    <section class="hero" id="home">
        <div class="floating-elements" id="floatingElements"></div>
        <div class="hero-content">
            <h2>Unlock Forbidden Knowledge</h2>
            <p>Discover ancient alchemical texts, mystical formulas, and arcane secrets hidden for centuries in our exclusive collection.</p>
            <div class="hero-buttons">
                <a href="#books" class="btn btn-primary">Explore Tomes</a>
                <a href="#categories" class="btn">View Collections</a>
                <a href="#" class="btn">Become a Member</a>
            </div>
        </div>
    </section>
    
    <section class="categories" id="categories">
        <h2 class="section-title">Collections</h2>
        <div class="category-grid">
            <div class="category-card" data-category="alchemy">
                <div class="category-icon">
                    <i class="fas fa-flask"></i>
                </div>
                <h3>Alchemical Formulas</h3>
                <p>Ancient recipes for elixirs, transmutations, and philosopher's stone</p>
            </div>
            
            <div class="category-card" data-category="necronomicon">
                <div class="category-icon">
                    <i class="fas fa-book-dead"></i>
                </div>
                <h3>Necronomicon</h3>
                <p>Forbidden texts on summoning and communicating with otherworldly entities</p>
            </div>
            
            <div class="category-card" data-category="spellbooks">
                <div class="category-icon">
                    <i class="fas fa-hat-wizard"></i>
                </div>
                <h3>Spellbooks</h3>
                <p>Incantations, rituals, and magical practices from various traditions</p>
            </div>
            
            <div class="category-card" data-category="maps">
                <div class="category-icon">
                    <i class="fas fa-map-marked-alt"></i>
                </div>
                <h3>Ancient Maps</h3>
                <p>Charts to hidden temples, lost cities, and mystical locations</p>
            </div>
            
            <div class="category-card" data-category="prophecies">
                <div class="category-icon">
                    <i class="fas fa-scroll"></i>
                </div>
                <h3>Prophecies</h3>
                <p>Visions of future events from seers, oracles, and diviners</p>
            </div>
            
            <div class="category-card" data-category="bestiary">
                <div class="category-icon">
                    <i class="fas fa-dragon"></i>
                </div>
                <h3>Mythical Bestiary</h3>
                <p>Detailed accounts of magical creatures and how to encounter them</p>
            </div>
        </div>
    </section>
    
    <section class="featured-books" id="books">
        <h2 class="section-title">Ancient Tomes</h2>
        
        <div class="books-filter">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="alchemy">Alchemy</button>
            <button class="filter-btn" data-filter="astrology">Astrology</button>
            <button class="filter-btn" data-filter="divination">Divination</button>
            <button class="filter-btn" data-filter="herbology">Herbology</button>
            <button class="filter-btn" data-filter="rituals">Rituals</button>
        </div>
        
        <div class="book-gallery">
            <div class="book-cover" data-book="spectrum-1" data-type="physical" data-category="alchemy">
                <img src="https://i.pinimg.com/736x/44/e1/e9/44e1e9952b45eec036b020fcc5101f55.jpg" alt="Spectrum 1.0 Book Cover">
                <div class="book-meta">
                    <span class="book-tag">Rare</span>
                </div>
                <div class="cover-title">Spectrum 1.0</div>
            </div>
            
            <div class="book-cover" data-book="multi-relationship" data-type="flashcards" data-category="astrology">
                <img src="https://i.pinimg.com/736x/d1/e9/91/d1e991cd2be70a2e049c7390400c9d6f.jpg" alt="Technology Multi-Relationship Book Cover">
                <div class="book-meta">
                    <span class="book-tag">New</span>
                </div>
                <div class="cover-title">TECHNOLOGY MULTI-RELATIONSHIP</div>
            </div>
            
            <div class="book-cover" data-book="herbal-compendium" data-type="physical" data-category="herbology">
                <img src="https://i.pinimg.com/736x/8d/6e/95/8d6e95c6e2f4d9b4e5d4a7e8f6b3c1d2.jpg" alt="Herbal Compendium">
                <div class="book-meta">
                    <span class="book-tag">Popular</span>
                </div>
                <div class="cover-title">Herbal Compendium</div>
            </div>
            
            <div class="book-cover" data-book="celestial-guide" data-type="flashcards" data-category="astrology">
                <img src="https://i.pinimg.com/736x/5a/18/9a/5a189a2b4f4c9e8b7f6c5d4e3b2a1f0e.jpg" alt="Celestial Guide">
                <div class="book-meta">
                    <span class="book-tag">Classic</span>
                </div>
                <div class="cover-title">Celestial Guide</div>
            </div>
            
            <div class="book-cover" data-book="divination-handbook" data-type="physical" data-category="divination">
                <img src="https://i.pinimg.com/736x/3d/2e/7a/3d2e7a4f5e6c7d8b9a0b1c2d3e4f5g6h.jpg" alt="Divination Handbook">
                <div class="book-meta">
                    <span class="book-tag">Rare</span>
                </div>
                <div class="cover-title">Divination Handbook</div>
            </div>
            
            <div class="book-cover" data-book="rituals-of-power" data-type="flashcards" data-category="rituals">
                <img src="https://i.pinimg.com/736x/7e/6d/5a/7e6d5a4f3e2d1c0b9a8b7c6d5e4f3g2h.jpg" alt="Rituals of Power">
                <div class="book-meta">
                    <span class="book-tag">Restricted</span>
                </div>
                <div class="cover-title">Rituals of Power</div>
            </div>
        </div>
    </section>
    
    <section class="features" id="features">
        <h2 class="section-title">Library Features</h2>
        <div class="features-grid">
            <div class="feature-card" data-feature="restricted">
                <div class="feature-icon">
                    <i class="fas fa-lock-open"></i>
                </div>
                <h3>Restricted Access</h3>
                <p>Gain exclusive entry to forbidden sections of the library with higher membership tiers</p>
            </div>
            
            <div class="feature-card" data-feature="translations">
                <div class="feature-icon">
                    <i class="fas fa-translate"></i>
                </div>
                <h3>Ancient Translations</h3>
                <p>Our scholars provide accurate translations of texts in dead languages</p>
            </div>
            
            <div class="feature-card" data-feature="circles">
                <div class="feature-icon">
                    <i class="fas fa-users"></i>
                </div>
                <h3>Alchemy Circles</h3>
                <p>Join discussion groups with fellow practitioners and scholars</p>
            </div>
            
            <div class="feature-card" data-feature="rituals">
                <div class="feature-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3>Seasonal Rituals</h3>
                <p>Participate in ancient ceremonies aligned with celestial events</p>
            </div>
            
            <div class="feature-card" data-feature="restoration">
                <div class="feature-icon">
                    <i class="fas fa-scroll"></i>
                </div>
                <h3>Manuscript Restoration</h3>
                <p>Preserve ancient texts using traditional methods and materials</p>
            </div>
            
            <div class="feature-card" data-feature="laboratories">
                <div class="feature-icon">
                    <i class="fas fa-mortar-pestle"></i>
                </div>
                <h3>Practical Laboratories</h3>
                <p>Access equipped spaces to practice alchemical experiments</p>
            </div>
        </div>
    </section>
    
    <div class="book-viewer" id="bookViewer">
        <div class="viewer-header">
            <h2 class="viewer-title" id="viewerTitle">Book Title</h2>
            <div class="viewer-actions">
                <button class="viewer-btn" id="zoomIn"><i class="fas fa-search-plus"></i></button>
                <button class="viewer-btn" id="zoomOut"><i class="fas fa-search-minus"></i></button>
                <button class="viewer-btn" id="bookmarkBtn"><i class="fas fa-bookmark"></i></button>
                <button class="viewer-btn" id="closeViewer"><i class="fas fa-times"></i></button>
            </div>
        </div>
        
        <div class="book-container">
            <!-- Physical Book Structure -->
            <div class="physical-book" id="physicalBook">
                <div class="book-cover-left"></div>
                <div class="book-cover-right"></div>
                
                <div class="book-page" id="page1">
                    <h2>Introduction</h2>
                    <p>Alchemy is an ancient branch of natural philosophy, a philosophical and protoscientific tradition that was historically practiced in China, India, the Muslim world, and Europe.</p>
                    <p>In its Western form, alchemy is first attested in a number of pseudepigraphical texts written in Greco-Roman Egypt during the first few centuries AD.</p>
                    <p>The ultimate goals of alchemy have varied throughout history but generally included the transmutation of base metals into noble metals, the creation of an elixir of immortality, and the achievement of spiritual enlightenment.</p>
                    <p>Alchemists developed a framework of theory, terminology, experimental process, and basic laboratory techniques that are still recognizable today. But alchemy differs from modern science in its inclusion of Hermetic principles and practices related to mythology, magic, religion, and spirituality.</p>
                </div>
                
                <div class="book-page" id="page2">
                    <h2>The Four Elements</h2>
                    <p>Western alchemy makes use of the Hellenic elements. The symbols used for these are:</p>
                    <ul>
                        <li>Air (🜁) - Representing intellect, communication, and the mind</li>
                        <li>Earth (🜃) - Representing stability, practicality, and the physical body</li>
                        <li>Fire (🜂) - Representing energy, transformation, and purification</li>
                        <li>Water (🜄) - Representing emotion, intuition, and the subconscious</li>
                    </ul>
                    <p>These elements were believed to be the building blocks of all matter and were central to alchemical theory and practice.</p>
                    <p>The concept of four elements was first proposed by the Greek philosopher Empedocles in the 5th century BC. He believed that these elements were eternal and unchanging, and that all matter was composed of varying combinations of these four elements.</p>
                </div>
                
                <div class="book-page" id="page3">
                    <h2>The Three Primes</h2>
                    <p>The three primes of alchemy are fundamental to the practice:</p>
                    <ul>
                        <li>Salt (🜔) - representing the body and matter</li>
                        <li>Sulfur (🜍) - representing the soul and combustion</li>
                        <li>Mercury (🜓) - representing the spirit and volatility</li>
                    </ul>
                    <p>According to Paracelsus, these three primes were the foundational substances of all material existence. The balance and interaction between these principles were thought to determine the properties of all matter.</p>
                    <p>Paracelsus believed that:
                        <ul>
                            <li>Mercury represented the omnipresent spirit of life</li>
                            <li>Sulfur represented the soul or consciousness</li>
                            <li>Salt represented the material body</li>
                        </ul>
                    </p>
                    <p>This tria prima system became central to alchemical thought and provided a framework for understanding both material and spiritual transformation.</p>
                </div>
                
                <div class="book-page" id="page4">
                    <h2>The Magnum Opus</h2>
                    <p>The Great Work of alchemy is often described as a series of four stages represented by colors:</p>
                    <ol>
                        <li>Nigredo (blackening) - Putrefaction, decomposition, and the breaking down of matter</li>
                        <li>Albedo (whitening) - Purification, washing away impurities</li>
                        <li>Citrinitas (yellowing) - Spiritual awakening, the dawning of wisdom</li>
                        <li>Rubedo (reddening) - Unification, completion, and the achievement of the philosopher's stone</li>
                    </ol>
                    <p>This process was not only a physical transformation of materials but also represented the spiritual journey of the alchemist.</p>
                    <p>The Magnum Opus was both an external laboratory process and an internal spiritual transformation. The alchemist sought to purify not only base metals into gold but also to purify the soul, achieving spiritual enlightenment and immortality.</p>
                    <p>Many alchemical texts are deliberately obscure, using symbolic language and imagery to conceal their secrets from the uninitiated while revealing them to those with the knowledge to interpret them correctly.</p>
                </div>
            </div>
            
            <!-- Flashcard Structure -->
            <div class="flashcard-container" id="flashcardContainer">
                <div class="flashcard active" id="card1">
                    <h2>Element: Air</h2>
                    <div class="flashcard-content">
                        <img src="https://i.pinimg.com/736x/44/e1/e9/44e1e9952b45eec036b020fcc5101f55.jpg" alt="Air Symbol">
                        <p>Symbol: 🜁</p>
                        <p>Represents the mind, intellect, and communication in alchemical traditions. Associated with the East, the season of Spring, and the sword in magical practice.</p>
                        <p>Qualities: Hot and Moist</p>
                        <p>Air is the element of the intellect, thought, and knowledge. It governs communication, reasoning, and learning. In magical practices, air is associated with the east and is often represented by the athame or sword.</p>
                    </div>
                </div>
                
                <div class="flashcard" id="card2">
                    <h2>Element: Earth</h2>
                    <div class="flashcard-content">
                        <img src="https://i.pinimg.com/736x/d1/e9/91/d1e991cd2be70a2e049c7390400c9d6f.jpg" alt="Earth Symbol">
                        <p>Symbol: 🜃</p>
                        <p>Represents the physical body, stability, and material wealth. Associated with the North, the season of Winter, and the pentacle in magical practice.</p>
                        <p>Qualities: Cold and Dry</p>
                        <p>Earth is the element of stability, foundation, and material existence. It governs the physical body, nature, and material possessions. In magical practices, earth is associated with the north and is often represented by the pentacle.</p>
                    </div>
                </div>
                
                <div class="flashcard" id="card3">
                    <h2>Element: Fire</h2>
                    <div class="flashcard-content">
                        <p>Symbol: 🜂</p>
                        <p>Represents energy, transformation, and the spiritual will. Associated with the South, the season of Summer, and the wand in magical practice.</p>
                        <p>Qualities: Hot and Dry</p>
                        <p>Fire is the element of transformation, passion, and energy. It governs willpower, courage, and spiritual energy. In magical practices, fire is associated with the south and is often represented by the wand.</p>
                        <p>Fire is considered the most powerful of the elements, capable of both creation and destruction. It is through fire that purification and transformation occur in alchemical processes.</p>
                    </div>
                </div>
                
                <div class="flashcard" id="card4">
                    <h2>Element: Water</h2>
                    <div class="flashcard-content">
                        <p>Symbol: 🜄</p>
                        <p>Represents emotion, intuition, and the subconscious. Associated with the West, the season of Autumn, and the cup in magical practice.</p>
                        <p>Qualities: Cold and Moist</p>
                        <p>Water is the element of emotion, intuition, and the unconscious mind. It governs feelings, dreams, and psychic abilities. In magical practices, water is associated with the west and is often represented by the cup or chalice.</p>
                        <p>Water is considered the element of purification and healing. It flows and adapts to its container, representing the fluid nature of emotions and intuition.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="nav-controls">
            <button class="nav-btn" id="prevBtn">Previous</button>
            <span class="page-indicator" id="pageIndicator">Page 1 of 4</span>
            <button class="nav-btn" id="nextBtn">Next</button>
        </div>
    </div>
    
    <!-- Category Modal -->
    <div class="modal" id="categoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalCategoryTitle">Collection</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modalCategoryBody">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Feature Modal -->
    <div class="modal" id="featureModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalFeatureTitle">Library Feature</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body" id="modalFeatureBody">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>
    
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Arcane Alchemy Library</h3>
                <p>Preserving ancient knowledge and mystical traditions for future generations of seekers and scholars.</p>
                <p>Founded in 1642 by the Hermetic Order of the Golden Dawn.</p>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#categories">Collections</a></li>
                    <li><a href="#books">Tomes</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#">Membership</a></li>
                    <li><a href="#">Research Requests</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Visit Us</h3>
                <p>Chamber of Secrets, 3rd Corridor</p>
                <p>Hogwarts Castle, Scotland</p>
                <p>Open during full moons and solar eclipses</p>
                <p>Apparition point: Library Entrance</p>
            </div>
            
            <div class="footer-section">
                <h3>Subscribe to Our Scroll</h3>
                <p>Receive updates on new acquisitions, special events, and lunar reading recommendations.</p>
                <div class="newsletter-form" id="newsletterForm">
                    <input type="email" id="newsletterEmail" placeholder="Your owl address" required>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </div>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-pinterest"></i></a>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2023 Arcane Alchemy Library. All rights reserved. No part of these collections may be reproduced without permission.</p>
            <p>Warning: Attempting alchemical practices without proper training may result in unexpected transmutations or existential paradoxes.</p>
        </div>
    </footer>
    
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <div class="toast" id="toast">
        <span id="toastMessage">Operation successful!</span>
    </div>
    
    <script>
        // Category content data
        const categoryContent = {
            alchemy: {
                title: "Alchemical Formulas Collection",
                content: `<p>The Alchemical Formulas collection contains centuries of secret knowledge about transmutation, elixir creation, and the pursuit of the Philosopher's Stone.</p>
                <p>Our collection includes:</p>
                <ul>
                    <li>Rare manuscripts from legendary alchemists like Nicolas Flamel and Paracelsus</li>
                    <li>Step-by-step guides to metallic transmutation</li>
                    <li>Formulas for creating healing elixirs and potions</li>
                    <li>Illustrated guides to alchemical apparatus and laboratory setup</li>
                </ul>
                <p>Access to certain sections of this collection requires Level 3 clearance or higher. Please consult with our librarians for access permissions.</p>`
            },
            necronomicon: {
                title: "Necronomicon Collection",
                content: `<p>The Necronomicon collection contains forbidden knowledge about entities from beyond our dimension and the rituals to contact them.</p>
                <p>Warning: These texts are extremely dangerous and should only be accessed by experienced practitioners with proper spiritual protection.</p>
                <p>Our collection includes:</p>
                <ul>
                    <li>The complete Abdul Alhazred manuscripts</li>
                    <li>Summoning rituals for various cosmic entities</li>
                    <li>Protective diagrams and warding techniques</li>
                    <li>Translations of ancient texts from lost civilizations</li>
                </ul>
                <p>Access to this collection requires special permission from the Head Librarian and completion of our spiritual protection seminar.</p>`
            },
            spellbooks: {
                title: "Spellbooks Collection",
                content: `<p>The Spellbooks collection contains magical knowledge from traditions around the world, including European grimoires, African juju, Asian mystical practices, and more.</p>
                <p>Our collection includes:</p>
                <ul>
                    <li>Rare first editions of the Greater and Lesser Keys of Solomon</li>
                    <li>Authentic Egyptian Books of the Dead</li>
                    <li>Medieval grimoires with protective charms and incantations</li>
                    <li>Modern interpretations of ancient magical practices</li>
                </ul>
                <p>All spellbooks are available for in-library use only. Certain rare volumes may require an appointment to access.</p>`
            },
            maps: {
                title: "Ancient Maps Collection",
                content: `<p>The Ancient Maps collection contains charts to hidden temples, lost cities, ley line intersections, and mystical locations around the world.</p>
                <p>Our collection includes:</p>
                <ul>
                    <li>Piri Reis maps with unknown continents</li>
                    <li>Atlantean navigation charts</li>
                    <li>Ley line maps showing energy convergence points</li>
                    <li>Celestial maps for astral projection navigation</li>
                </ul>
                <p>Many of these maps are enchanted and may reveal additional details to those with the sight. Handle with care as some maps are known to be slightly... unpredictable.</p>`
            },
            prophecies: {
                title: "Prophecies Collection",
                content: `<p>The Prophecies collection contains visions of future events from seers, oracles, and diviners throughout history.</p>
                <p>Our collection includes:</p>
                <ul>
                    <li>The complete prophecies of Nostradamus</li>
                    <li>Oracle bones from ancient Chinese dynasties</li>
                    <li>Scrying mirror interpretations from medieval seers</li>
                    <li>Modern psychic predictions with verification records</li>
                </ul>
                <p>Please note that prophecies are interpretations of possible futures and should not be taken as absolute truth. The library is not responsible for actions taken based on prophetic interpretations.</p>`
            },
            bestiary: {
                title: "Mythical Bestiary Collection",
                content: `<p>The Mythical Bestiary collection contains detailed accounts of magical creatures, their habits, habitats, and how to safely encounter them.</p>
                <p>Our collection includes:</p>
                <ul>
                    <li>Medieval bestiaries with illuminated illustrations</li>
                    <li>Dragon classification guides</li>
                    <li>Encyclopedia of household spirits from around the world</li>
                    <li>Field guides for cryptid tracking and identification</li>
                </ul>
                <p>Many volumes in this collection are enchanted with protective spells to prevent certain creatures from accessing information about themselves. Please handle with care.</p>`
            }
        };

        // Feature content data
        const featureContent = {
            restricted: {
                title: "Restricted Access",
                content: `<p>Our Restricted Access program allows dedicated members to explore the most dangerous and powerful texts in our collection.</p>
                <p>Benefits include:</p>
                <ul>
                    <li>Access to the Forbidden Texts wing</li>
                    <li>Personalized research assistance from senior librarians</li>
                    <li>Private viewing rooms for dangerous materials</li>
                    <li>Extended borrowing privileges for restricted materials</li>
                </ul>
                <p>To qualify for Restricted Access, members must:</p>
                <ul>
                    <li>Have at least 2 years of continuous membership</li>
                    <li>Complete our Advanced Safety Certification course</li>
                    <li>Provide two references from existing Restricted Access members</li>
                    <li>Pass a background check for mental and spiritual stability</li>
                </ul>
                <p>Interested in upgrading your membership? Speak to our Membership Coordinator today.</p>`
            },
            translations: {
                title: "Ancient Translations Service",
                content: `<p>Our team of expert linguists and cryptographers can help you decipher even the most obscure ancient texts.</p>
                <p>Services include:</p>
                <ul>
                    <li>Translation of texts in dead languages</li>
                    <li>Decipherment of magical codes and ciphers</li>
                    <li>Interpretation of symbolic and allegorical content</li>
                    <li>Contextual analysis of historical documents</li>
                </ul>
                <p>Our translation team includes specialists in:</p>
                <ul>
                    <li>Ancient Egyptian hieroglyphics</li>
                    <li>Sumerian cuneiform</li>
                    <li>Atlantean script</li>
                    <li>Celtic ogham</li>
                    <li>Enochian language</li>
                    <li>Dragon runes</li>
                </ul>
                <p>Translation requests can be submitted at the Reference Desk. Standard turnaround is 2-4 weeks depending on complexity.</p>`
            },
            circles: {
                title: "Alchemy Circles",
                content: `<p>Join one of our Alchemy Circles to connect with fellow practitioners, share knowledge, and collaborate on research.</p>
                <p>We currently host circles for:</p>
                <ul>
                    <li>Beginner Alchemy (monthly, first Tuesday)</li>
                    <li>Advanced Transmutation Theory (bi-weekly)</li>
                    <li>Herbal Alchemy and Elixir Preparation (monthly)</li>
                    <li>Spiritual Alchemy and Inner Transformation (weekly)</li>
                    <li>Historical Alchemy Research (monthly)</li>
                </ul>
                <p>Benefits of joining a circle:</p>
                <ul>
                    <li>Access to specialized laboratory equipment</li>
                    <li>Group discounts on rare materials</li>
                    <li>Mentorship from experienced alchemists</li>
                    <li>Collaborative research opportunities</li>
                </ul>
                <p>Circle meetings are free for members. Visit the Community Board or speak to a librarian to join.</p>`
            },
            rituals: {
                title: "Seasonal Rituals",
                content: `<p>Participate in our seasonal rituals aligned with celestial events to harness natural energies for magical work.</p>
                <p>Upcoming rituals:</p>
                <ul>
                    <li>Spring Equinox - Renewal and Growth Ritual (March 20)</li>
                    <li>Summer Solstice - Solar Empowerment Ritual (June 21)</li>
                    <li>Autumn Equinox - Harvest and Gratitude Ritual (September 22)</li>
                    <li>Winter Solstice - Inner Reflection Ritual (December 21)</li>
                    <li>Full Moon - Monthly Cleansing and Charging Ritual</li>
                </ul>
                <p>All rituals are conducted by experienced practitioners and include:</p>
                <ul>
                    <li>Ritual preparation guidance</li>
                    <li>Energetic protection measures</li>
                    <li>Appropriate ritual tools and materials</li>
                    <li>Post-ritual integration discussion</li>
                </ul>
                <p>Participation requires advance registration. Some rituals have limited capacity, so early sign-up is recommended.</p>`
            },
            restoration: {
                title: "Manuscript Restoration Service",
                content: `<p>Our manuscript restoration service helps preserve ancient texts for future generations using traditional methods and materials.</p>
                <p>Services include:</p>
                <ul>
                    <li>Paper and parchment cleaning and deacidification</li>
                    <li>Ink stabilization and reinforcement</li>
                    <li>Binding repair and restoration</li>
                    <li>Protective enchantment application</li>
                    <li>Digital preservation and archiving</li>
                </ul>
                <p>Our restoration laboratory is equipped with:</p>
                <ul>
                    <li>Magically-enhanced cleaning solutions</li>
                    <li>Specialized tools for delicate work</li>
                    <li>Climate-controlled treatment rooms</li>
                    <li>Anti-deterioration warding systems</li>
                </ul>
                <p>We also offer workshops on basic book preservation techniques for home libraries. Please inquire at the Restoration Desk for more information.</p>`
            },
            laboratories: {
                title: "Practical Laboratories",
                content: `<p>Our practical laboratories provide equipped spaces for members to conduct alchemical experiments and magical practices.</p>
                <p>Laboratory facilities include:</p>
                <ul>
                    <li>Standard Alchemy Lab - Basic equipment for common procedures</li>
                    <li>Advanced Transmutation Lab - Specialized apparatus for metallic work</li>
                    <li>Herbal Preparation Lab - Distillation and extraction equipment</li>
                    <li>Ritual Space - consecrated area for magical workings</li>
                    <li>Containment Lab - Secure space for dangerous experiments</li>
                </ul>
                <p>All laboratories feature:</p>
                <ul>
                    <li>Ventilation systems for fume management</li>
                    <li>Emergency containment spells</li>
                    <li>Basic material supplies (additional fees may apply)</li>
                    <li>Safety equipment and emergency response systems</li>
                </ul>
                <p>Lab access requires appropriate safety certification. Reservations can be made at the Laboratory Scheduling Desk.</p>`
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize loader
            const loader = document.getElementById('loader');
            
            // Simulate loading
            setTimeout(() => {
                loader.classList.remove('visible');
            }, 2000);
            
            // Navigation toggle
            const navToggle = document.getElementById('navToggle');
            const mainNav = document.getElementById('mainNav');
            
            navToggle.addEventListener('click', function() {
                mainNav.classList.toggle('active');
            });
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('nav a, .hero-buttons a').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        
                        if (targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 80,
                                behavior: 'smooth'
                            });
                            
                            // Close mobile menu if open
                            if (mainNav.classList.contains('active')) {
                                mainNav.classList.remove('active');
                            }
                        }
                    }
                });
            });
            
            // Back to top button
            const backToTop = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });
            
            backToTop.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Create floating elements
            const floatingElements = document.getElementById('floatingElements');
            const symbols = ['🜁', '🜃', '🜂', '🜄', '🜔', '🜍', '🜓', '⚗️', '🧪', '🔮', '📜', '⚛️'];
            
            for (let i = 0; i < 20; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                element.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                
                // Random position
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;
                
                // Random animation
                const duration = 3 + Math.random() * 7;
                const delay = Math.random() * 5;
                
                element.style.animation = `float ${duration}s ease-in-out ${delay}s infinite`;
                
                floatingElements.appendChild(element);
            }
            
            // Add floating animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes float {
                    0% {
                        transform: translate(0, 0) rotate(0deg);
                    }
                    50% {
                        transform: translate(${Math.random() * 30 - 15}px, ${Math.random() * 30 - 15}px) rotate(${Math.random() * 10 - 5}deg);
                    }
                    100% {
                        transform: translate(0, 0) rotate(0deg);
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Book viewer elements
            const bookViewer = document.getElementById('bookViewer');
            const closeViewer = document.getElementById('closeViewer');
            const viewerTitle = document.getElementById('viewerTitle');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pageIndicator = document.getElementById('pageIndicator');
            const zoomInBtn = document.getElementById('zoomIn');
            const zoomOutBtn = document.getElementById('zoomOut');
            const bookmarkBtn = document.getElementById('bookmarkBtn');
            
            // Book types
            const physicalBook = document.getElementById('physicalBook');
            const flashcardContainer = document.getElementById('flashcardContainer');
            
            // Physical book elements
            const bookCoverLeft = document.querySelector('.book-cover-left');
            const bookCoverRight = document.querySelector('.book-cover-right');
            const pages = document.querySelectorAll('.book-page');
            
            // Flashcard elements
            const flashcards = document.querySelectorAll('.flashcard');
            
            // Modal elements
            const categoryModal = document.getElementById('categoryModal');
            const featureModal = document.getElementById('featureModal');
            const modalCategoryTitle = document.getElementById('modalCategoryTitle');
            const modalCategoryBody = document.getElementById('modalCategoryBody');
            const modalFeatureTitle = document.getElementById('modalFeatureTitle');
            const modalFeatureBody = document.getElementById('modalFeatureBody');
            const closeModalButtons = document.querySelectorAll('.close-modal');
            
            // Toast element
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            // Newsletter form
            const newsletterForm = document.getElementById('newsletterForm');
            const newsletterEmail = document.getElementById('newsletterEmail');
            
            // State variables
            let currentView = ''; // 'physical' or 'flashcards'
            let currentPage = 0;
            let totalPages = 0;
            let isBookOpen = false;
            let zoomLevel = 1;
            
            // Show toast message
            function showToast(message, duration = 3000) {
                toastMessage.textContent = message;
                toast.classList.add('visible');
                
                setTimeout(() => {
                    toast.classList.remove('visible');
                }, duration);
            }
            
            // Open book viewer when a cover is clicked
            document.querySelectorAll('.book-cover').forEach(cover => {
                cover.addEventListener('click', function() {
                    // Show loader
                    loader.classList.add('visible');
                    
                    setTimeout(() => {
                        const bookTitle = this.querySelector('.cover-title').textContent;
                        const bookType = this.getAttribute('data-type');
                        
                        viewerTitle.textContent = bookTitle;
                        bookViewer.style.display = 'flex';
                        document.body.style.overflow = 'hidden';
                        
                        // Set the current view type
                        currentView = bookType;
                        
                        if (bookType === 'physical') {
                            physicalBook.style.display = 'block';
                            flashcardContainer.style.display = 'none';
                            totalPages = pages.length;
                            
                            // Reset to first page
                            currentPage = 0;
                            updatePages();
                            
                            // Open the book animation
                            if (!isBookOpen) {
                                gsap.to(bookCoverLeft, {
                                    duration: 1,
                                    rotationY: -160,
                                    ease: "power2.inOut",
                                    onComplete: () => {
                                        isBookOpen = true;
                                        loader.classList.remove('visible');
                                    }
                                });
                                
                                gsap.to(bookCoverRight, {
                                    duration: 1,
                                    rotationY: -180,
                                    ease: "power2.inOut"
                                });
                            }
                        } else if (bookType === 'flashcards') {
                            physicalBook.style.display = 'none';
                            flashcardContainer.style.display = 'block';
                            totalPages = flashcards.length;
                            
                            // Reset to first card
                            currentPage = 0;
                            updateFlashcards();
                            loader.classList.remove('visible');
                        }
                        
                        updateNavigation();
                    }, 500);
                });
            });
            
            // Close book viewer
            closeViewer.addEventListener('click', function() {
                // Close the book animation if it's a physical book
                if (currentView === 'physical' && isBookOpen) {
                    gsap.to(bookCoverLeft, {
                        duration: 1,
                        rotationY: 0,
                        ease: "power2.inOut",
                        onComplete: () => {
                            isBookOpen = false;
                            bookViewer.style.display = 'none';
                            document.body.style.overflow = 'auto';
                        }
                    });
                    
                    gsap.to(bookCoverRight, {
                        duration: 1,
                        rotationY: 180,
                        ease: "power2.inOut"
                    });
                } else {
                    bookViewer.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
                
                // Reset zoom
                zoomLevel = 1;
                updateZoom();
            });
            
            // Navigation controls
            prevBtn.addEventListener('click', function() {
                if (currentPage > 0) {
                    currentPage--;
                    if (currentView === 'physical') {
                        updatePages();
                    } else {
                        updateFlashcards();
                    }
                    updateNavigation();
                }
            });
            
            nextBtn.addEventListener('click', function() {
                if (currentPage < totalPages - 1) {
                    currentPage++;
                    if (currentView === 'physical') {
                        updatePages();
                    } else {
                        updateFlashcards();
                    }
                    updateNavigation();
                }
            });
            
            // Zoom controls
            zoomInBtn.addEventListener('click', function() {
                if (zoomLevel < 2) {
                    zoomLevel += 0.1;
                    updateZoom();
                }
            });
            
            zoomOutBtn.addEventListener('click', function() {
                if (zoomLevel > 0.5) {
                    zoomLevel -= 0.1;
                    updateZoom();
                }
            });
            
            // Bookmark button
            bookmarkBtn.addEventListener('click', function() {
                this.classList.toggle('active');
                
                if (this.classList.contains('active')) {
                    this.innerHTML = '<i class="fas fa-bookmark"></i>';
                    showToast('Page bookmarked!');
                } else {
                    this.innerHTML = '<i class="far fa-bookmark"></i>';
                    showToast('Bookmark removed!');
                }
            });
            
            // Update physical book pages
            function updatePages() {
                pages.forEach((page, index) => {
                    if (index === currentPage) {
                        page.classList.add('active');
                    } else {
                        page.classList.remove('active');
                    }
                });
            }
            
            // Update flashcards
            function updateFlashcards() {
                flashcards.forEach((card, index) => {
                    if (index === currentPage) {
                        card.classList.add('active');
                    } else {
                        card.classList.remove('active');
                    }
                });
            }
            
            // Update navigation buttons and indicator
            function updateNavigation() {
                prevBtn.disabled = currentPage === 0;
                nextBtn.disabled = currentPage === totalPages - 1;
                pageIndicator.textContent = `Page ${currentPage + 1} of ${totalPages}`;
            }
            
            // Update zoom level
            function updateZoom() {
                if (currentView === 'physical') {
                    pages.forEach(page => {
                        page.style.transform = `scale(${zoomLevel})`;
                    });
                } else {
                    flashcards.forEach(card => {
                        card.style.transform = `translateX(0) scale(${zoomLevel})`;
                    });
                }
            }
            
            // Category card click handler
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    
                    if (categoryContent[category]) {
                        modalCategoryTitle.textContent = categoryContent[category].title;
                        modalCategoryBody.innerHTML = categoryContent[category].content;
                        categoryModal.classList.add('visible');
                        document.body.style.overflow = 'hidden';
                    }
                });
            });
            
            // Feature card click handler
            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', function() {
                    const feature = this.getAttribute('data-feature');
                    
                    if (featureContent[feature]) {
                        modalFeatureTitle.textContent = featureContent[feature].title;
                        modalFeatureBody.innerHTML = featureContent[feature].content;
                        featureModal.classList.add('visible');
                        document.body.style.overflow = 'hidden';
                    }
                });
            });
            
            // Close modal buttons
            closeModalButtons.forEach(button => {
                button.addEventListener('click', function() {
                    categoryModal.classList.remove('visible');
                    featureModal.classList.remove('visible');
                    document.body.style.overflow = 'auto';
                });
            });
            
            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === categoryModal) {
                    categoryModal.classList.remove('visible');
                    document.body.style.overflow = 'auto';
                }
                if (e.target === featureModal) {
                    featureModal.classList.remove('visible');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    
                    // Filter books
                    document.querySelectorAll('.book-cover').forEach(book => {
                        if (filter === 'all' || book.getAttribute('data-category') === filter) {
                            book.style.display = 'block';
                            // Animate appearance
                            gsap.fromTo(book, 
                                { opacity: 0, y: 20 }, 
                                { opacity: 1, y: 0, duration: 0.5 }
                            );
                        } else {
                            // Animate disappearance
                            gsap.to(book, {
                                opacity: 0,
                                y: 20,
                                duration: 0.3,
                                onComplete: () => {
                                    book.style.display = 'none';
                                }
                            });
                        }
                    });
                });
            });
            
            // Newsletter form submission
            newsletterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (newsletterEmail.value && newsletterEmail.value.includes('@')) {
                    // Simulate subscription success
                    showToast('Thank you for subscribing to our newsletter!', 5000);
                    newsletterEmail.value = '';
                } else {
                    showToast('Please enter a valid email address.', 3000);
                }
            });
            
            // Add keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (bookViewer.style.display === 'flex') {
                    if (e.key === 'ArrowLeft' && currentPage > 0) {
                        currentPage--;
                        if (currentView === 'physical') {
                            updatePages();
                        } else {
                            updateFlashcards();
                        }
                        updateNavigation();
                    } else if (e.key === 'ArrowRight' && currentPage < totalPages - 1) {
                        currentPage++;
                        if (currentView === 'physical') {
                            updatePages();
                        } else {
                            updateFlashcards();
                        }
                        updateNavigation();
                    } else if (e.key === 'Escape') {
                        closeViewer.click();
                    } else if (e.key === '+' || e.key === '=') {
                        zoomInBtn.click();
                    } else if (e.key === '-' || e.key === '_') {
                        zoomOutBtn.click();
                    }
                }
                
                // Close modals with Escape key
                if (e.key === 'Escape') {
                    if (categoryModal.classList.contains('visible')) {
                        categoryModal.classList.remove('visible');
                        document.body.style.overflow = 'auto';
                    }
                    if (featureModal.classList.contains('visible')) {
                        featureModal.classList.remove('visible');
                        document.body.style.overflow = 'auto';
                    }
                }
            });
            
            // Initialize GSAP animations
            gsap.registerPlugin(ScrollTrigger);
            
            // Animate elements on scroll
            gsap.utils.toArray('.category-card, .book-cover, .feature-card').forEach(item => {
                gsap.fromTo(item, {
                    opacity: 0,
                    y: 50
                }, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    scrollTrigger: {
                        trigger: item,
                        start: 'top 85%',
                        toggleActions: 'play none none none'
                    }
                });
            });
            
            // Animate section titles
            gsap.utils.toArray('.section-title').forEach(title => {
                gsap.fromTo(title, {
                    opacity: 0,
                    x: -50
                }, {
                    opacity: 1,
                    x: 0,
                    duration: 1,
                    scrollTrigger: {
                        trigger: title,
                        start: 'top 90%',
                        toggleActions: 'play none none none'
                    }
                });
            });
        });
    </script>
</body>
</html>