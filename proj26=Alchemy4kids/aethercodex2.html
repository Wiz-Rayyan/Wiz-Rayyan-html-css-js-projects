<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Aether Codex - Advanced Transmutation Circle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #4a90e2;
        }

        .header h1 {
            color: #4a90e2;
            font-size: 2.5em;
            text-shadow: 0 0 20px #4a90e2;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            color: #cccccc;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            align-items: start;
        }

        .circle-container {
            position: relative;
            width: 600px;
            height: 600px;
            margin: 0 auto;
            perspective: 1000px;
        }

        .transmutation-circle {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(74, 144, 226, 0.1) 0%, rgba(0, 0, 0, 0.5) 100%);
            border: 4px solid #4a90e2;
            box-shadow: 0 0 50px rgba(74, 144, 226, 0.5);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 50px rgba(74, 144, 226, 0.5); }
            50% { box-shadow: 0 0 80px rgba(74, 144, 226, 0.8); }
        }

        .outer-ring {
            position: absolute;
            top: 20px;
            left: 20px;
            width: calc(100% - 40px);
            height: calc(100% - 40px);
            border: 3px solid #66bb6a;
            border-radius: 50%;
            animation: rotate-clockwise 30s linear infinite;
        }

        .middle-ring {
            position: absolute;
            top: 50px;
            left: 50px;
            width: calc(100% - 100px);
            height: calc(100% - 100px);
            border: 2px solid #ff7043;
            border-radius: 50%;
            animation: rotate-counter 20s linear infinite;
        }

        .inner-ring {
            position: absolute;
            top: 80px;
            left: 80px;
            width: calc(100% - 160px);
            height: calc(100% - 160px);
            border: 2px solid #ffa726;
            border-radius: 50%;
            animation: rotate-clockwise 15s linear infinite;
        }

        .core-circle {
            position: absolute;
            top: 120px;
            left: 120px;
            width: calc(100% - 240px);
            height: calc(100% - 240px);
            border: 3px solid #ab47bc;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(171, 71, 188, 0.2) 0%, transparent 100%);
            animation: rotate-counter 10s linear infinite;
        }

        @keyframes rotate-clockwise {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes rotate-counter {
            from { transform: rotate(360deg); }
            to { transform: rotate(0deg); }
        }

        .sigil {
            position: absolute;
            color: #4a90e2;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px currentColor;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .sigil:hover {
            transform: scale(1.2);
            color: #66bb6a;
            text-shadow: 0 0 20px currentColor;
        }

        .sigil.active {
            color: #ff7043;
            animation: glow 1s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px currentColor; }
            to { text-shadow: 0 0 30px currentColor; }
        }

        .element-symbol {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid;
        }

        .element-symbol:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px currentColor;
        }

        .earth { background: #8d6e63; border-color: #5d4037; top: 250px; right: 30px; }
        .air { background: #78909c; border-color: #455a64; top: 50px; right: 250px; }
        .fire { background: #f44336; border-color: #b71c1c; top: 50px; left: 250px; }
        .water { background: #2196f3; border-color: #0d47a1; top: 250px; left: 30px; }
        .aether { background: #9c27b0; border-color: #4a148c; top: 120px; left: 120px; width: 60px; height: 60px; }

        .geometric-pattern {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
        }

        .hexagram {
            position: absolute;
            width: 100%;
            height: 100%;
            stroke: #ffa726;
            stroke-width: 2;
            fill: none;
            animation: rotate-clockwise 25s linear infinite;
        }

        .pentagram {
            position: absolute;
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
            stroke: #e91e63;
            stroke-width: 2;
            fill: none;
            animation: rotate-counter 18s linear infinite;
        }

        .controls {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #4a90e2;
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .controls h3 {
            color: #4a90e2;
            margin-bottom: 15px;
            text-align: center;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            color: #cccccc;
            font-weight: bold;
        }

        .control-btn {
            background: linear-gradient(45deg, #4a90e2, #66bb6a);
            border: none;
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        }

        .control-btn.active {
            background: linear-gradient(45deg, #ff7043, #ffa726);
            box-shadow: 0 0 20px rgba(255, 112, 67, 0.5);
        }

        .info-panel {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #4a90e2;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .info-panel h4 {
            color: #66bb6a;
            margin-bottom: 10px;
        }

        .info-panel p {
            color: #cccccc;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .speed-slider {
            flex: 1;
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: #333;
            outline: none;
            border-radius: 5px;
        }

        .speed-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #4a90e2;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
        }

        .runes {
            position: absolute;
            font-size: 16px;
            color: #ab47bc;
            font-family: 'Arial Unicode MS', sans-serif;
            animation: fade-in-out 4s ease-in-out infinite;
        }

        @keyframes fade-in-out {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .energy-beam {
            position: absolute;
            width: 2px;
            height: 150px;
            background: linear-gradient(to top, transparent, #4a90e2, transparent);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            animation: energy-pulse 2s ease-in-out infinite;
        }

        @keyframes energy-pulse {
            0%, 100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .circle-container {
                width: 500px;
                height: 500px;
            }
        }

        @media (max-width: 600px) {
            .circle-container {
                width: 350px;
                height: 350px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>The Aether Codex</h1>
            <p>Advanced Transmutation Circle - Master of Elemental Convergence</p>
        </div>

        <div class="main-content">
            <div class="circle-container">
                <div class="transmutation-circle" id="mainCircle">
                    <div class="outer-ring" id="outerRing"></div>
                    <div class="middle-ring" id="middleRing"></div>
                    <div class="inner-ring" id="innerRing"></div>
                    <div class="core-circle" id="coreCircle"></div>

                    <!-- Geometric Patterns -->
                    <div class="geometric-pattern">
                        <svg class="hexagram" viewBox="0 0 100 100">
                            <polygon points="50,10 73,35 73,65 50,90 27,65 27,35" />
                            <polygon points="50,20 67,40 67,60 50,80 33,60 33,40" />
                        </svg>
                        <svg class="pentagram" viewBox="0 0 100 100">
                            <polygon points="50,5 61,35 95,35 69,57 80,91 50,70 20,91 31,57 5,35 39,35" />
                        </svg>
                    </div>

                    <!-- Element Symbols -->
                    <div class="element-symbol earth" data-element="earth">⛰</div>
                    <div class="element-symbol air" data-element="air">💨</div>
                    <div class="element-symbol fire" data-element="fire">🔥</div>
                    <div class="element-symbol water" data-element="water">💧</div>
                    <div class="element-symbol aether" data-element="aether">✨</div>

                    <!-- Alchemical Sigils -->
                    <div class="sigil" style="top: 30px; left: 300px;" data-sigil="mercury">☿</div>
                    <div class="sigil" style="top: 100px; left: 450px;" data-sigil="sulfur">🜍</div>
                    <div class="sigil" style="top: 200px; left: 500px;" data-sigil="salt">🜔</div>
                    <div class="sigil" style="top: 350px; left: 450px;" data-sigil="antimony">♁</div>
                    <div class="sigil" style="top: 450px; left: 300px;" data-sigil="lead">♄</div>
                    <div class="sigil" style="top: 450px; left: 150px;" data-sigil="tin">♃</div>
                    <div class="sigil" style="top: 350px; left: 50px;" data-sigil="copper">♀</div>
                    <div class="sigil" style="top: 200px; left: 30px;" data-sigil="iron">♂</div>
                    <div class="sigil" style="top: 100px; left: 80px;" data-sigil="silver">☽</div>
                    <div class="sigil" style="top: 50px; left: 220px;" data-sigil="gold">☉</div>

                    <!-- Runes -->
                    <div class="runes" style="top: 80px; left: 300px;">ᚠᚢᚦᚨᚱᚲ</div>
                    <div class="runes" style="top: 480px; left: 200px;">ᚷᚹᚺᚾᛁᛃ</div>
                    <div class="runes" style="top: 300px; left: 80px;">ᛇᛈᛉᛊᛏᛒ</div>
                    <div class="runes" style="top: 300px; left: 450px;">ᛖᛗᛚᛜᛞᛟ</div>

                    <!-- Energy Beams -->
                    <div class="energy-beam" style="transform: translate(-50%, -50%) rotate(0deg);"></div>
                    <div class="energy-beam" style="transform: translate(-50%, -50%) rotate(45deg);"></div>
                    <div class="energy-beam" style="transform: translate(-50%, -50%) rotate(90deg);"></div>
                    <div class="energy-beam" style="transform: translate(-50%, -50%) rotate(135deg);"></div>
                </div>
            </div>

            <div class="controls">
                <h3>Circle Configuration</h3>
                
                <div class="control-group">
                    <label>Rotation Speed</label>
                    <div class="speed-control">
                        <span>Slow</span>
                        <input type="range" class="speed-slider" id="speedSlider" min="0.1" max="3" step="0.1" value="1">
                        <span>Fast</span>
                    </div>
                </div>

                <div class="control-group">
                    <label>Transmutation Type</label>
                    <button class="control-btn active" data-config="basic">Basic Alchemy</button>
                    <button class="control-btn" data-config="elemental">Elemental Fusion</button>
                    <button class="control-btn" data-config="advanced">Advanced Synthesis</button>
                    <button class="control-btn" data-config="forbidden">Forbidden Arts</button>
                </div>

                <div class="control-group">
                    <label>Energy Focus</label>
                    <button class="control-btn" data-focus="creation">Creation</button>
                    <button class="control-btn" data-focus="destruction">Destruction</button>
                    <button class="control-btn" data-focus="transformation">Transformation</button>
                    <button class="control-btn" data-focus="purification">Purification</button>
                </div>

                <div class="control-group">
                    <label>Elemental Dominance</label>
                    <button class="control-btn" data-element="earth">Earth</button>
                    <button class="control-btn" data-element="air">Air</button>
                    <button class="control-btn" data-element="fire">Fire</button>
                    <button class="control-btn" data-element="water">Water</button>
                    <button class="control-btn" data-element="aether">Aether</button>
                </div>

                <div class="info-panel" id="infoPanel">
                    <h4>The Aether Codex</h4>
                    <p>This advanced transmutation circle represents the pinnacle of alchemical knowledge, combining traditional hermetic principles with elemental mastery.</p>
                    <p><strong>Core Components:</strong></p>
                    <p>• Outer Ring: Protective barrier and energy containment</p>
                    <p>• Middle Ring: Elemental balance and flow regulation</p>
                    <p>• Inner Ring: Consciousness and intent amplification</p>
                    <p>• Core Circle: Pure transmutation essence</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        class TransmutationCircle {
            constructor() {
                this.currentConfig = 'basic';
                this.currentFocus = 'creation';
                this.currentElement = 'aether';
                this.speed = 1;
                this.mainCircle = document.getElementById('mainCircle');
                this.outerRing = document.getElementById('outerRing');
                this.middleRing = document.getElementById('middleRing');
                this.innerRing = document.getElementById('innerRing');
                this.coreCircle = document.getElementById('coreCircle');
                this.speedSlider = document.getElementById('speedSlider');
                this.infoPanel = document.getElementById('infoPanel');
                this.initializeElements();
                this.bindEvents();
                this.startAnimation();
            }

            initializeElements() {
                this.mainCircle.appendChild(pulse);
                
                setTimeout(() => {
                    if (pulse.parentNode) {
                        pulse.parentNode.removeChild(pulse);
                    }
                    if (style.parentNode) {
                        style.parentNode.removeChild(style);
                    }
                }, 1000);
            }

            createLightningEffect() {
                const lightning = document.createElement('div');
                lightning.style.position = 'absolute';
                lightning.style.width = '2px';
                lightning.style.height = '200px';
                lightning.style.background = 'linear-gradient(to bottom, transparent, #00ffff, #ffffff, #00ffff, transparent)';
                lightning.style.top = '50%';
                lightning.style.left = '50%';
                lightning.style.transform = 'translate(-50%, -50%) rotate(' + Math.random() * 360 + 'deg)';
                lightning.style.animation = 'lightning-flash 0.3s ease-out forwards';
                lightning.style.boxShadow = '0 0 20px #00ffff';
                lightning.style.zIndex = '10';

                const lightningStyle = document.createElement('style');
                lightningStyle.textContent = `
                    @keyframes lightning-flash {
                        0% { opacity: 1; transform: translate(-50%, -50%) rotate(${Math.random() * 360}deg) scale(0.5); }
                        50% { opacity: 1; transform: translate(-50%, -50%) rotate(${Math.random() * 360}deg) scale(1.2); }
                        100% { opacity: 0; transform: translate(-50%, -50%) rotate(${Math.random() * 360}deg) scale(0.8); }
                    }
                `;
                document.head.appendChild(lightningStyle);

                this.mainCircle.appendChild(lightning);

                setTimeout(() => {
                    if (lightning.parentNode) {
                        lightning.parentNode.removeChild(lightning);
                    }
                    if (lightningStyle.parentNode) {
                        lightningStyle.parentNode.removeChild(lightningStyle);
                    }
                }, 300);
            }

            createParticleEffect() {
                const colors = ['#4a90e2', '#66bb6a', '#ff7043', '#ffa726', '#ab47bc', '#e91e63'];
                
                for (let i = 0; i < 5; i++) {
                    const particle = document.createElement('div');
                    particle.style.position = 'absolute';
                    particle.style.width = '4px';
                    particle.style.height = '4px';
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.borderRadius = '50%';
                    particle.style.top = '50%';
                    particle.style.left = '50%';
                    particle.style.boxShadow = '0 0 10px currentColor';
                    particle.style.animation = `particle-float-${i} 3s ease-out forwards`;

                    const angle = (Math.PI * 2 * i) / 5;
                    const distance = 100 + Math.random() * 100;
                    const endX = Math.cos(angle) * distance;
                    const endY = Math.sin(angle) * distance;

                    const particleStyle = document.createElement('style');
                    particleStyle.textContent = `
                        @keyframes particle-float-${i} {
                            0% { 
                                transform: translate(-50%, -50%) scale(0); 
                                opacity: 1; 
                            }
                            50% { 
                                transform: translate(calc(-50% + ${endX/2}px), calc(-50% + ${endY/2}px)) scale(1.5); 
                                opacity: 0.8; 
                            }
                            100% { 
                                transform: translate(calc(-50% + ${endX}px), calc(-50% + ${endY}px)) scale(0); 
                                opacity: 0; 
                            }
                        }
                    `;
                    document.head.appendChild(particleStyle);

                    this.mainCircle.appendChild(particle);

                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                        if (particleStyle.parentNode) {
                            particleStyle.parentNode.removeChild(particleStyle);
                        }
                    }, 3000);
                }
            }

            createRuneActivation() {
                const runes = document.querySelectorAll('.runes');
                runes.forEach(rune => {
                    rune.style.color = '#00ffff';
                    rune.style.textShadow = '0 0 20px #00ffff';
                    rune.style.animation = 'rune-power 2s ease-in-out forwards';
                });

                const runeStyle = document.createElement('style');
                runeStyle.textContent = `
                    @keyframes rune-power {
                        0% { 
                            transform: scale(1); 
                            filter: brightness(1); 
                        }
                        50% { 
                            transform: scale(1.2); 
                            filter: brightness(2); 
                        }
                        100% { 
                            transform: scale(1); 
                            filter: brightness(1); 
                        }
                    }
                `;
                document.head.appendChild(runeStyle);

                setTimeout(() => {
                    runes.forEach(rune => {
                        rune.style.color = '#ab47bc';
                        rune.style.textShadow = '0 0 10px #ab47bc';
                        rune.style.animation = 'fade-in-out 4s ease-in-out infinite';
                    });
                    if (runeStyle.parentNode) {
                        runeStyle.parentNode.removeChild(runeStyle);
                    }
                }, 2000);
            }

            activateAdvancedEffects() {
                if (this.currentConfig === 'forbidden') {
                    this.createLightningEffect();
                    setTimeout(() => this.createLightningEffect(), 200);
                    setTimeout(() => this.createLightningEffect(), 400);
                }
                
                if (this.currentConfig === 'elemental') {
                    this.createParticleEffect();
                }
                
                if (this.currentConfig === 'advanced') {
                    this.createRuneActivation();
                }
            }

            createSacredGeometryEffect() {
                const geometries = document.querySelectorAll('.hexagram, .pentagram');
                geometries.forEach(geo => {
                    geo.style.filter = 'drop-shadow(0 0 10px currentColor)';
                    geo.style.animation = 'none';
                    geo.style.transform = 'scale(1.1)';
                });

                setTimeout(() => {
                    geometries.forEach(geo => {
                        geo.style.filter = 'none';
                        geo.style.transform = 'scale(1)';
                        if (geo.classList.contains('hexagram')) {
                            geo.style.animation = 'rotate-clockwise 25s linear infinite';
                        } else {
                            geo.style.animation = 'rotate-counter 18s linear infinite';
                        }
                    });
                }, 1500);
            }

            enhanceVisualEffects() {
                // Add complex visual feedback based on current configuration
                setInterval(() => {
                    if (Math.random() < 0.3) {
                        this.createEnergyPulse();
                    }
                    if (Math.random() < 0.1) {
                        this.activateAdvancedEffects();
                    }
                    if (Math.random() < 0.05) {
                        this.createSacredGeometryEffect();
                    }
                }, 3000);
            }

            createAlchemicalReaction() {
                const reaction = document.createElement('div');
                reaction.style.position = 'absolute';
                reaction.style.width = '50px';
                reaction.style.height = '50px';
                reaction.style.borderRadius = '50%';
                reaction.style.background = 'radial-gradient(circle, #ffff00, #ff4500, transparent)';
                reaction.style.top = '50%';
                reaction.style.left = '50%';
                reaction.style.transform = 'translate(-50%, -50%)';
                reaction.style.animation = 'alchemical-burst 2s ease-out forwards';
                reaction.style.boxShadow = '0 0 30px #ff4500';

                const burstStyle = document.createElement('style');
                burstStyle.textContent = `
                    @keyframes alchemical-burst {
                        0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
                        30% { transform: translate(-50%, -50%) scale(1.5); opacity: 0.8; }
                        60% { transform: translate(-50%, -50%) scale(2); opacity: 0.5; }
                        100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
                    }
                `;
                document.head.appendChild(burstStyle);

                this.mainCircle.appendChild(reaction);

                setTimeout(() => {
                    if (reaction.parentNode) {
                        reaction.parentNode.removeChild(reaction);
                    }
                    if (burstStyle.parentNode) {
                        burstStyle.parentNode.removeChild(burstStyle);
                    }
                }, 2000);
            }

            handleSpecialCombinations() {
                // Special effects for specific combinations
                if (this.currentConfig === 'forbidden' && this.currentFocus === 'destruction') {
                    this.createLightningEffect();
                    setTimeout(() => this.createAlchemicalReaction(), 500);
                }
                
                if (this.currentConfig === 'elemental' && this.currentElement === 'aether') {
                    this.createParticleEffect();
                    setTimeout(() => this.createSacredGeometryEffect(), 1000);
                }
            }

            addAudioVisualSync() {
                // Visual feedback for interactions
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.transmutation-circle')) {
                        this.createEnergyPulse();
                    }
                });
            }

            initializeAdvancedFeatures() {
                this.enhanceVisualEffects();
                this.addAudioVisualSync();
                
        // Initialize the transmutation circle when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            const circle = new TransmutationCircle();
            circle.initializeAdvancedFeatures();
        });
                this.outerRing = document.getElementById('outerRing');
                this.middleRing = document.getElementById('middleRing');
                this.innerRing = document.getElementById('innerRing');
                this.coreCircle = document.getElementById('coreCircle');
                this.speedSlider = document.getElementById('speedSlider');
                this.infoPanel = document.getElementById('infoPanel');
            }

            bindEvents() {
                // Speed control
                this.speedSlider.addEventListener('input', (e) => {
                    this.speed = parseFloat(e.target.value);
                    this.updateAnimationSpeed();
                });

                // Configuration buttons
                document.querySelectorAll('[data-config]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.setConfiguration(e.target.dataset.config);
                        this.updateActiveButton(e.target, '[data-config]');
                    });
                });

                // Focus buttons
                document.querySelectorAll('[data-focus]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.setFocus(e.target.dataset.focus);
                        this.updateActiveButton(e.target, '[data-focus]');
                    });
                });

                // Element buttons
                document.querySelectorAll('[data-element]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.setElement(e.target.dataset.element);
                        this.updateActiveButton(e.target, '[data-element]');
                    });
                });

                // Sigil interactions
                document.querySelectorAll('.sigil').forEach(sigil => {
                    sigil.addEventListener('click', (e) => {
                        this.activateSigil(e.target);
                    });
                });

                // Element symbol interactions
                document.querySelectorAll('.element-symbol').forEach(symbol => {
                    symbol.addEventListener('click', (e) => {
                        this.activateElement(e.target);
                    });
                });
            }

            updateActiveButton(clickedBtn, selector) {
                document.querySelectorAll(selector).forEach(btn => {
                    btn.classList.remove('active');
                });
                clickedBtn.classList.add('active');
            }

            setConfiguration(config) {
                this.currentConfig = config;
                this.updateCircleAppearance();
                this.updateInfo();
            }

            setFocus(focus) {
                this.currentFocus = focus;
                this.updateCircleAppearance();
                this.updateInfo();
            }

            setElement(element) {
                this.currentElement = element;
                this.updateCircleAppearance();
                this.updateInfo();
            }

            updateCircleAppearance() {
                const configs = {
                    basic: { color: '#4a90e2', glow: '0 0 50px rgba(74, 144, 226, 0.5)' },
                    elemental: { color: '#66bb6a', glow: '0 0 50px rgba(102, 187, 106, 0.5)' },
                    advanced: { color: '#ff7043', glow: '0 0 50px rgba(255, 112, 67, 0.5)' },
                    forbidden: { color: '#e91e63', glow: '0 0 50px rgba(233, 30, 99, 0.5)' }
                };

                const config = configs[this.currentConfig];
                this.mainCircle.style.borderColor = config.color;
                this.mainCircle.style.boxShadow = config.glow;

                // Update ring colors based on configuration
                this.outerRing.style.borderColor = config.color;
                this.middleRing.style.borderColor = config.color;
                this.innerRing.style.borderColor = config.color;
                this.coreCircle.style.borderColor = config.color;
            }

            updateAnimationSpeed() {
                const rings = [this.outerRing, this.middleRing, this.innerRing, this.coreCircle];
                rings.forEach((ring, index) => {
                    const baseSpeed = [30, 20, 15, 10][index];
                    ring.style.animationDuration = `${baseSpeed / this.speed}s`;
                });
            }

            activateSigil(sigil) {
                sigil.classList.add('active');
                setTimeout(() => sigil.classList.remove('active'), 2000);
                
                const sigilInfo = this.getSigilInfo(sigil.dataset.sigil);
                this.showTemporaryInfo(sigilInfo);
            }

            activateElement(element) {
                document.querySelectorAll('.element-symbol').forEach(el => {
                    el.style.transform = 'scale(1)';
                });
                element.style.transform = 'scale(1.2)';
                
                const elementInfo = this.getElementInfo(element.dataset.element);
                this.showTemporaryInfo(elementInfo);
            }

            getSigilInfo(sigil) {
                const info = {
                    mercury: { name: 'Mercury (☿)', desc: 'Represents fluidity, communication, and transformation. Essential for dissolving rigid structures.' },
                    sulfur: { name: 'Sulfur (🜍)', desc: 'The active principle, represents combustion, expansion, and the soul\'s fire.' },
                    salt: { name: 'Salt (🜔)', desc: 'The passive principle, represents crystallization, preservation, and the body\'s foundation.' },
                    antimony: { name: 'Antimony (♁)', desc: 'The wild wolf, represents raw power and untamed transformation potential.' },
                    lead: { name: 'Lead (♄)', desc: 'Saturn\'s metal, represents base matter, heavy earth, and the starting point of transmutation.' },
                    tin: { name: 'Tin (♃)', desc: 'Jupiter\'s metal, represents expansion, growth, and beneficial transformation.' },
                    copper: { name: 'Copper (♀)', desc: 'Venus\'s metal, represents beauty, harmony, and emotional transformation.' },
                    iron: { name: 'Iron (♂)', desc: 'Mars\'s metal, represents strength, war, and forceful change.' },
                    silver: { name: 'Silver (☽)', desc: 'The Moon\'s metal, represents intuition, reflection, and subtle transformation.' },
                    gold: { name: 'Gold (☉)', desc: 'The Sun\'s metal, represents perfection, enlightenment, and the ultimate goal of alchemy.' }
                };
                return info[sigil] || { name: 'Unknown', desc: 'Mysterious alchemical symbol.' };
            }

            getElementInfo(element) {
                const info = {
                    earth: { name: 'Earth Element', desc: 'Solid, stable, nurturing. Governs physical manifestation and material strength.' },
                    air: { name: 'Air Element', desc: 'Light, mobile, intellectual. Governs communication and mental processes.' },
                    fire: { name: 'Fire Element', desc: 'Hot, dry, transformative. Governs energy, passion, and rapid change.' },
                    water: { name: 'Water Element', desc: 'Cold, moist, adaptive. Governs emotions, intuition, and flow.' },
                    aether: { name: 'Aether Element', desc: 'The fifth element, pure spirit. Governs consciousness and divine connection.' }
                };
                return info[element] || { name: 'Unknown', desc: 'Mysterious elemental force.' };
            }

            showTemporaryInfo(info) {
                const originalContent = this.infoPanel.innerHTML;
                this.infoPanel.innerHTML = `
                    <h4>${info.name}</h4>
                    <p>${info.desc}</p>
                `;
                setTimeout(() => {
                    this.infoPanel.innerHTML = originalContent;
                }, 3000);
            }

            updateInfo() {
                const configurations = {
                    basic: {
                        title: 'Basic Alchemy Configuration',
                        desc: 'Traditional transmutation circle for simple material transformation. Focuses on fundamental alchemical principles and safe energy flow.'
                    },
                    elemental: {
                        title: 'Elemental Fusion Configuration',
                        desc: 'Advanced circle designed for elemental manipulation and fusion. Channels the raw power of earth, air, fire, water, and aether.'
                    },
                    advanced: {
                        title: 'Advanced Synthesis Configuration',
                        desc: 'Complex transmutation array for sophisticated material synthesis. Combines multiple alchemical processes simultaneously.'
                    },
                    forbidden: {
                        title: 'Forbidden Arts Configuration',
                        desc: 'WARNING: Extremely dangerous configuration. Channels forbidden knowledge and taboo transmutations. Use at your own risk.'
                    }
                };

                const focuses = {
                    creation: 'Channels creative force to manifest new matter and energy from the void.',
                    destruction: 'Harnesses destructive power to break down complex structures into base components.',
                    transformation: 'Facilitates metamorphosis, changing the fundamental nature of matter.',
                    purification: 'Removes impurities and refines materials to their perfect state.'
                };

                const config = configurations[this.currentConfig];
                const focus = focuses[this.currentFocus];

                this.infoPanel.innerHTML = `
                    <h4>${config.title}</h4>
                    <p>${config.desc}</p>
                    <p><strong>Current Focus:</strong> ${focus}</p>
                    <p><strong>Dominant Element:</strong> ${this.currentElement.charAt(0).toUpperCase() + this.currentElement.slice(1)}</p>
                    <p><strong>Circle Status:</strong> Active and stable</p>
                `;
            }

            startAnimation() {
                // Additional visual effects
                setInterval(() => {
                    this.createEnergyPulse();
                }, 2000);
            }

            createEnergyPulse() {
                const pulse = document.createElement('div');
                pulse.style.position = 'absolute';
                pulse.style.width = '10px';
                pulse.style.height = '10px';
                pulse.style.background = '#4a90e2';
                pulse.style.borderRadius = '50%';
                pulse.style.top = '50%';
                pulse.style.left = '50%';
                pulse.style.transform = 'translate(-50%, -50%)';
                pulse.style.boxShadow = '0 0 20px #4a90e2';
                pulse.style.animation = 'energy-expand 1s ease-out forwards';
                
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes energy-expand {
                        0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
                        100% { transform: translate(-50%, -50%) scale(10); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
                
                this.mainCircle.appendChild(pulse);

                setTimeout(() => {
                    if (pulse.parentNode) {
                        pulse.parentNode.removeChild(pulse);
                    }
                    if (style.parentNode) {
                        style.parentNode.removeChild(style);
                    }
                }, 1000);
            }
        }

        // Initialize the transmutation circle when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            const circle = new TransmutationCircle();
            circle.initializeAdvancedFeatures();
        });
    </script>
</body>
</html>