<!-- like google have pages
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pagination</title>
     <style>
      *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    padding: 10px 15px;
}

h1 {
    margin-bottom: 30px;
}

.pagination-list{
    display: grid;
    grid-template-columns: repeat(3,1fr);
    gap: 10px;
    list-style: none;
}

.pagination-list li{

    background-color: rgb(255, 242, 0);
    padding: 20px;
    font-size: 20px;
    font-weight: bold;
}

.pagination-list  li.hide-list-item{
    display: none;
}

.pagination-container{
    display: flex;
    margin-top: 30px;
    justify-content: center;
    gap: 25px
}

.pagination-container button {
    padding: 12px 18px;
    font-size: 20px;
    background-color: #000;
    font-weight: bolder;
    color: #fff;
    border: none;
    cursor: pointer;
}

.pagination-numbers{
    display: flex;
    gap: 10px;
}

.pagination-container button.disabled{
    opacity: 0.65;
    cursor: not-allowed;
}

.pagination-numbers button.active-state{
    background-color: rgb(0, 255, 51);
    color: #000;
}
     </style>
  </head>
  <body>
    <h1>Pagination Using JavaScript</h1>
    <ul class="pagination-list" data-current-page="1"></ul>
    <div class="pagination-container">
      <button class="pagination-button prev-btn">Previous</button>
      <div class="pagination-numbers"></div>
      <button class="pagination-button next-btn">Next</button>
    </div>
    <script >
      const paginationListWrapper = document.querySelector(".pagination-list");

function createDummyData() {
  for (let i = 1; i <= 100; i++) {
    const li = document.createElement("li");
    li.textContent = `Card ${i}`;
    paginationListWrapper.appendChild(li);
  }
}

createDummyData();

const extractAllListItems = document.querySelectorAll("li");
const paginationNumbers = document.querySelector(".pagination-numbers");
const previousButton = document.querySelector(".prev-btn");
const nextButton = document.querySelector(".next-btn");

let paginationLimit = 10;
let pageCount = Math.ceil(extractAllListItems.length / paginationLimit);
let currentPage = 1;

function createPageNumber(getCurrentIndex) {
  const pageNumber = document.createElement("button");
  pageNumber.classList.add("pagination-number");
  pageNumber.textContent = getCurrentIndex;
  pageNumber.setAttribute("page-index", getCurrentIndex);

  paginationNumbers.appendChild(pageNumber);
}

function createPaginationNumbers() {
  for (let i = 1; i <= pageCount; i++) {
    createPageNumber(i);
  }
}

function handleActiveCurrentPageNumber() {
  document.querySelectorAll(".pagination-number").forEach((button) => {
    button.classList.remove("active-state");
    const getCurrentPageIndex = Number(button.getAttribute("page-index"));

    if (getCurrentPageIndex === currentPage) {
      button.classList.add("active-state");
    }
  });
}

function handleDisableButton(getBtn) {
  getBtn.classList.add("disabled");
  getBtn.setAttribute("disabled", "true");
}

function handleEnableButton(getBtn) {
  getBtn.classList.remove("disabled");
  getBtn.removeAttribute("disabled");
}

function handlePaginationButtonStatus() {
  console.log(currentPage);
  if (currentPage === 1) {
    handleDisableButton(previousButton);
  } else {
    handleEnableButton(previousButton);
  }

  if (pageCount === currentPage) {
    handleDisableButton(nextButton);
  } else {
    handleEnableButton(nextButton);
  }
}

function handleCurrentPage(getCurrentPageNumber) {
  currentPage = getCurrentPageNumber;

  handleActiveCurrentPageNumber();
  handlePaginationButtonStatus();

  const getPreviousRange = (getCurrentPageNumber - 1) * paginationLimit;
  const getCurrentrange = getCurrentPageNumber * paginationLimit;

  extractAllListItems.forEach((listItem, index) => {
    listItem.classList.add("hide-list-item");

    if (index >= getPreviousRange && index < getCurrentrange) {
      listItem.classList.remove("hide-list-item");
    }
  });
}

createPaginationNumbers();
handleCurrentPage(1);

previousButton.addEventListener("click", () => {
  handleCurrentPage(currentPage - 1);
});

nextButton.addEventListener("click", () => {
  handleCurrentPage(currentPage + 1);
});

document.querySelectorAll(".pagination-number").forEach((button) => {
  const getCurrentPageIndex = Number(button.getAttribute("page-index"));

  if (getCurrentPageIndex) {
    button.addEventListener("click", () => {
      handleCurrentPage(getCurrentPageIndex);
    });
  }
});
    </script>
  </body>
</html>